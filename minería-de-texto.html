<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.1 Minería de texto | Manual de R</title>
  <meta name="description" content="El objetivo de este manual es introducir en el conocimiento del Lenguaje R. Podemos considerar a R como un entorno software, pero también como un lenguaje de programación. Se analiza con detalle los mecanismos y funciones que el lenguaje proporciona para la manipulación y análisis de datos. Se revisan los mecanismos para representar visualmente los datos a través de funciones como plot, hist o boxplot." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4.1 Minería de texto | Manual de R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/cover.jpg" />
  <meta property="og:description" content="El objetivo de este manual es introducir en el conocimiento del Lenguaje R. Podemos considerar a R como un entorno software, pero también como un lenguaje de programación. Se analiza con detalle los mecanismos y funciones que el lenguaje proporciona para la manipulación y análisis de datos. Se revisan los mecanismos para representar visualmente los datos a través de funciones como plot, hist o boxplot." />
  <meta name="github-repo" content="rubend18/manual-de-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.1 Minería de texto | Manual de R" />
  
  <meta name="twitter:description" content="El objetivo de este manual es introducir en el conocimiento del Lenguaje R. Podemos considerar a R como un entorno software, pero también como un lenguaje de programación. Se analiza con detalle los mecanismos y funciones que el lenguaje proporciona para la manipulación y análisis de datos. Se revisan los mecanismos para representar visualmente los datos a través de funciones como plot, hist o boxplot." />
  <meta name="twitter:image" content="/img/cover.jpg" />

<meta name="author" content="Rubén Darío Jaramillo (rubend18@hotmail.com)" />


<meta name="date" content="2021-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="análisis-de-datos-con-r-ii.html"/>
<link rel="next" href="análisis-de-grafos.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Manual de R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Descripción</a></li>
<li class="chapter" data-level="" data-path="compilación.html"><a href="compilación.html"><i class="fa fa-check"></i>Compilación</a></li>
<li class="chapter" data-level="1" data-path="introducción-a-r.html"><a href="introducción-a-r.html"><i class="fa fa-check"></i><b>1</b> Introducción a R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="qué-es-r.html"><a href="qué-es-r.html"><i class="fa fa-check"></i><b>1.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="1.2" data-path="orígenes-y-antecedentes.html"><a href="orígenes-y-antecedentes.html"><i class="fa fa-check"></i><b>1.2</b> Orígenes y antecedentes</a></li>
<li class="chapter" data-level="1.3" data-path="por-qué-r.html"><a href="por-qué-r.html"><i class="fa fa-check"></i><b>1.3</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.4" data-path="instalación-del-entorno-de-r.html"><a href="instalación-del-entorno-de-r.html"><i class="fa fa-check"></i><b>1.4</b> Instalación del entorno de R</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="instalación-del-entorno-de-r.html"><a href="instalación-del-entorno-de-r.html#instalación-en-windows-y-mac-os-x"><i class="fa fa-check"></i><b>1.4.1</b> Instalación en Windows y Mac OS X</a></li>
<li class="chapter" data-level="1.4.2" data-path="instalación-del-entorno-de-r.html"><a href="instalación-del-entorno-de-r.html#instalación-en-linux"><i class="fa fa-check"></i><b>1.4.2</b> Instalación en Linux</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html"><i class="fa fa-check"></i><b>1.5</b> Primeros pasos con R</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#realizando-operaciones-basicas"><i class="fa fa-check"></i><b>1.5.1</b> Realizando operaciones basicas</a></li>
<li class="chapter" data-level="1.5.2" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#llamando-a-funciones"><i class="fa fa-check"></i><b>1.5.2</b> Llamando a funciones</a></li>
<li class="chapter" data-level="1.5.3" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#accediendo-a-la-ayuda-de-r"><i class="fa fa-check"></i><b>1.5.3</b> Accediendo a la ayuda de R</a></li>
<li class="chapter" data-level="1.5.4" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#trabajando-con-variables"><i class="fa fa-check"></i><b>1.5.4</b> Trabajando con variables</a></li>
<li class="chapter" data-level="1.5.5" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#instalación-de-paquetes"><i class="fa fa-check"></i><b>1.5.5</b> Instalación de paquetes</a></li>
<li class="chapter" data-level="1.5.6" data-path="primeros-pasos-con-r.html"><a href="primeros-pasos-con-r.html#ejecutando-expresiones-desde-un-fichero-de-texto"><i class="fa fa-check"></i><b>1.5.6</b> Ejecutando expresiones desde un fichero de texto</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="consejos-prácticos-sobre-el-uso-de-la-consola-de-r.html"><a href="consejos-prácticos-sobre-el-uso-de-la-consola-de-r.html"><i class="fa fa-check"></i><b>1.6</b> Consejos prácticos sobre el uso de la consola de R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="el-lenguaje-r.html"><a href="el-lenguaje-r.html"><i class="fa fa-check"></i><b>2</b> El lenguaje R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="características-básicas-del-lenguaje-r.html"><a href="características-básicas-del-lenguaje-r.html"><i class="fa fa-check"></i><b>2.1</b> Características básicas del lenguaje R</a></li>
<li class="chapter" data-level="2.2" data-path="tipos-de-datos-y-operadores.html"><a href="tipos-de-datos-y-operadores.html"><i class="fa fa-check"></i><b>2.2</b> Tipos de datos y operadores</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="tipos-de-datos-y-operadores.html"><a href="tipos-de-datos-y-operadores.html#tipos-básicos-de-datos"><i class="fa fa-check"></i><b>2.2.1</b> Tipos básicos de datos</a></li>
<li class="chapter" data-level="2.2.2" data-path="tipos-de-datos-y-operadores.html"><a href="tipos-de-datos-y-operadores.html#operadores"><i class="fa fa-check"></i><b>2.2.2</b> Operadores</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html"><i class="fa fa-check"></i><b>2.3</b> Estructura de datos</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#vectores"><i class="fa fa-check"></i><b>2.3.1</b> Vectores</a></li>
<li class="chapter" data-level="2.3.2" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#matrices-y-arrays"><i class="fa fa-check"></i><b>2.3.2</b> Matrices y arrays</a></li>
<li class="chapter" data-level="2.3.3" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#listas"><i class="fa fa-check"></i><b>2.3.3</b> Listas</a></li>
<li class="chapter" data-level="2.3.4" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#factores-factors"><i class="fa fa-check"></i><b>2.3.4</b> Factores (factors)</a></li>
<li class="chapter" data-level="2.3.5" data-path="estructura-de-datos.html"><a href="estructura-de-datos.html#tablas-data-frames"><i class="fa fa-check"></i><b>2.3.5</b> Tablas (data frames)</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html"><i class="fa fa-check"></i><b>2.4</b> Estructuras de control</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#condicionales"><i class="fa fa-check"></i><b>2.4.1</b> Condicionales</a></li>
<li class="chapter" data-level="2.4.2" data-path="estructuras-de-control.html"><a href="estructuras-de-control.html#bucles"><i class="fa fa-check"></i><b>2.4.2</b> Bucles</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>2.5</b> Funciones</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="análisis-de-datos-con-r-i.html"><a href="análisis-de-datos-con-r-i.html"><i class="fa fa-check"></i><b>3</b> Análisis de datos con R (I)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html"><i class="fa fa-check"></i><b>3.1</b> Manipulación de datos</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#tratamiento-de-valores-desconocidos"><i class="fa fa-check"></i><b>3.1.1</b> Tratamiento de valores desconocidos</a></li>
<li class="chapter" data-level="3.1.2" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#conversión-de-tipos"><i class="fa fa-check"></i><b>3.1.2</b> Conversión de tipos</a></li>
<li class="chapter" data-level="3.1.3" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#ordenación-de-datos"><i class="fa fa-check"></i><b>3.1.3</b> Ordenación de datos</a></li>
<li class="chapter" data-level="3.1.4" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#búsqueda-de-datos"><i class="fa fa-check"></i><b>3.1.4</b> Búsqueda de datos</a></li>
<li class="chapter" data-level="3.1.5" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#manipulación-de-cadenas-de-caracteres"><i class="fa fa-check"></i><b>3.1.5</b> Manipulación de cadenas de caracteres</a></li>
<li class="chapter" data-level="3.1.6" data-path="manipulación-de-datos.html"><a href="manipulación-de-datos.html#importarexportar-datos-desdea-fichero"><i class="fa fa-check"></i><b>3.1.6</b> Importar/exportar datos desde/a fichero</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="estadística-básica-con-r.html"><a href="estadística-básica-con-r.html"><i class="fa fa-check"></i><b>3.2</b> Estadística básica con R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="estadística-básica-con-r.html"><a href="estadística-básica-con-r.html#distribuciones-estadísticas"><i class="fa fa-check"></i><b>3.2.1</b> Distribuciones estadísticas</a></li>
<li class="chapter" data-level="3.2.2" data-path="estadística-básica-con-r.html"><a href="estadística-básica-con-r.html#estadística-descriptiva"><i class="fa fa-check"></i><b>3.2.2</b> Estadística descriptiva</a></li>
<li class="chapter" data-level="3.2.3" data-path="estadística-básica-con-r.html"><a href="estadística-básica-con-r.html#test-estadísticos-básicos"><i class="fa fa-check"></i><b>3.2.3</b> Test estadísticos básicos</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="introducción-a-la-minería-de-datos-con-r.html"><a href="introducción-a-la-minería-de-datos-con-r.html"><i class="fa fa-check"></i><b>3.3</b> Introducción a la minería de datos con R</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introducción-a-la-minería-de-datos-con-r.html"><a href="introducción-a-la-minería-de-datos-con-r.html#análisis-de-correlación"><i class="fa fa-check"></i><b>3.3.1</b> Análisis de correlación</a></li>
<li class="chapter" data-level="3.3.2" data-path="introducción-a-la-minería-de-datos-con-r.html"><a href="introducción-a-la-minería-de-datos-con-r.html#regresión"><i class="fa fa-check"></i><b>3.3.2</b> Regresión</a></li>
<li class="chapter" data-level="3.3.3" data-path="introducción-a-la-minería-de-datos-con-r.html"><a href="introducción-a-la-minería-de-datos-con-r.html#clasificación"><i class="fa fa-check"></i><b>3.3.3</b> Clasificación</a></li>
<li class="chapter" data-level="3.3.4" data-path="introducción-a-la-minería-de-datos-con-r.html"><a href="introducción-a-la-minería-de-datos-con-r.html#agrupamiento-clustering"><i class="fa fa-check"></i><b>3.3.4</b> Agrupamiento (clustering)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="análisis-de-datos-con-r-ii.html"><a href="análisis-de-datos-con-r-ii.html"><i class="fa fa-check"></i><b>4</b> Análisis de datos con R (II)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html"><i class="fa fa-check"></i><b>4.1</b> Minería de texto</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="minería-de-texto.html"><a href="minería-de-texto.html#introducción"><i class="fa fa-check"></i><b>4.1.1</b> Introducción</a></li>
<li class="chapter" data-level="4.1.2" data-path="minería-de-texto.html"><a href="minería-de-texto.html#minería-de-texto-con-tm"><i class="fa fa-check"></i><b>4.1.2</b> Minería de texto con tm</a></li>
<li class="chapter" data-level="4.1.3" data-path="minería-de-texto.html"><a href="minería-de-texto.html#encontrar-términos-frecuentes"><i class="fa fa-check"></i><b>4.1.3</b> Encontrar términos frecuentes</a></li>
<li class="chapter" data-level="4.1.4" data-path="minería-de-texto.html"><a href="minería-de-texto.html#clasificación-1"><i class="fa fa-check"></i><b>4.1.4</b> Clasificación</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html"><i class="fa fa-check"></i><b>4.2</b> Análisis de grafos</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#introducción-1"><i class="fa fa-check"></i><b>4.2.1</b> Introducción</a></li>
<li class="chapter" data-level="4.2.2" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#primeros-pasos-con-igraph"><i class="fa fa-check"></i><b>4.2.2</b> Primeros pasos con igraph</a></li>
<li class="chapter" data-level="4.2.3" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#importandoexportando-grafos-desdea-fichero"><i class="fa fa-check"></i><b>4.2.3</b> Importando/exportando grafos desde/a fichero</a></li>
<li class="chapter" data-level="4.2.4" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#análisis-de-grafos-con-igraph"><i class="fa fa-check"></i><b>4.2.4</b> Análisis de grafos con igraph</a></li>
<li class="chapter" data-level="4.2.5" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#información-básica-de-grafos"><i class="fa fa-check"></i><b>4.2.5</b> Información básica de grafos</a></li>
<li class="chapter" data-level="4.2.6" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#medidas-de-centralidad"><i class="fa fa-check"></i><b>4.2.6</b> Medidas de centralidad</a></li>
<li class="chapter" data-level="4.2.7" data-path="análisis-de-grafos.html"><a href="análisis-de-grafos.html#camino-más-corto"><i class="fa fa-check"></i><b>4.2.7</b> Camino más corto</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="gráficos-y-visualización-de-datos.html"><a href="gráficos-y-visualización-de-datos.html"><i class="fa fa-check"></i><b>5</b> Gráficos y visualización de datos</a>
<ul>
<li class="chapter" data-level="5.1" data-path="creando-gráficos-básicos-con-r.html"><a href="creando-gráficos-básicos-con-r.html"><i class="fa fa-check"></i><b>5.1</b> Creando gráficos básicos con R</a></li>
<li class="chapter" data-level="5.2" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html"><i class="fa fa-check"></i><b>5.2</b> Personalización de gráficos</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html#símbolos-y-líneas"><i class="fa fa-check"></i><b>5.2.1</b> Símbolos y líneas</a></li>
<li class="chapter" data-level="5.2.2" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html#colores"><i class="fa fa-check"></i><b>5.2.2</b> Colores</a></li>
<li class="chapter" data-level="5.2.3" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html#límites-de-los-ejes"><i class="fa fa-check"></i><b>5.2.3</b> Límites de los ejes</a></li>
<li class="chapter" data-level="5.2.4" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html#leyendas-y-texto"><i class="fa fa-check"></i><b>5.2.4</b> Leyendas y texto</a></li>
<li class="chapter" data-level="5.2.5" data-path="personalización-de-gráficos.html"><a href="personalización-de-gráficos.html#añadiendo-una-rejilla"><i class="fa fa-check"></i><b>5.2.5</b> Añadiendo una rejilla</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="combinando-gráficos.html"><a href="combinando-gráficos.html"><i class="fa fa-check"></i><b>5.3</b> Combinando gráficos</a></li>
<li class="chapter" data-level="5.4" data-path="exportando-gráficos-a-fichero.html"><a href="exportando-gráficos-a-fichero.html"><i class="fa fa-check"></i><b>5.4</b> Exportando gráficos a fichero</a></li>
<li class="chapter" data-level="5.5" data-path="interacción-básica-con-gráficos.html"><a href="interacción-básica-con-gráficos.html"><i class="fa fa-check"></i><b>5.5</b> Interacción básica con gráficos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="información-extra.html"><a href="información-extra.html"><i class="fa fa-check"></i>Información extra</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Manual de R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="minería-de-texto" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Minería de texto</h2>
<div id="introducción" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Introducción</h3>
<p>Actualmente se generan diariamente grandes cantidades de información en formato textual: entradas de blogs, nuevas páginas web, mensajes en redes sociales, documentos en intranets corporativas, entradas en canales de distribución de información (feeds, listas de correo), etc.</p>
<p>Para poder procesar esta información textual de una manera escalable se hace necesario el desarrollo de técnicas y herramientas que permitan automatizar la tarea mediante el uso de computadoras. El objetivo es reducir en la medida de lo posible la intervención humana (que suele ser costosa tanto económicamente como en tiempo de procesado) aunque sin eliminarla (dado que a fin de cuentas el análisis de la información textual responderá a las necesidades particulares de un usuario o grupo de usuarios).</p>
<blockquote>
<p>La minería de texto es un proceso en el que un usuario interactúa con una colección de documentos utilizando una serie de herramientas con la intención de obtener información útil para las necesidades del usuario.</p>
</blockquote>
<p>Para llevar a cabo tareas de minería de texto en R usaremos el paquete tm. Este paquete fue desarrollado en la University of Economics and Business de Viena (WU Vienna) por Ingo Feinerer como parte de su tesis doctoral: «A text mining framework in R and its applications», publicada en el año 2008.</p>
<p>Básicamente, el objetivo del paquete es proporcionar un entorno dentro del lenguaje R para permitir el desarrollo de aplicaciones de minería de texto, incluyendo funcionalidades tales como:</p>
<ul>
<li><p>Procesamiento previo: importar datos y prepararlos (por ejemplo, eliminando espacios en blanco y signos de puntuación, troceando el texto en términos, etc.).</p></li>
<li><p>Asociaciones: encontrar términos asociados a otro en base a la frecuencia con la que los términos concurren (se mencionan a la vez en el mismo documento).</p></li>
<li><p>Agrupamiento: realizar agrupamiento (clustering) de documentos similares.</p></li>
<li><p>Clasificación: organizar documentos en base a una lista de categorías previamente definidas.</p></li>
<li><p>Resumen: resumir un texto en sus conceptos principales (que típicamente se definirán en base a los términos que se mencionen con mayor frecuencia).</p></li>
</ul>
<p>El paquete tm es software libre y gratuito. Para instalarlo en nuestro entorno de R simplemente debemos ejecutar desde la consola la expresión:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="minería-de-texto.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tm&quot;</span>, <span class="at">dependencies=</span><span class="cn">TRUE</span>)  </span></code></pre></div>
<p>Y a continuación, una vez instalado, cargar la librería en el entorno de R con:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="minería-de-texto.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm) </span></code></pre></div>
<p>Una vez hemos presentado brevemente el paquete tm y lo hemos instalado en nuestro ordenador, en la siguiente sección pasaremos a ver las estructuras de datos y funciones que implementa y a trabajar con él en la práctica.</p>
</div>
<div id="minería-de-texto-con-tm" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Minería de texto con tm</h3>
<p>Normalmente toda de tarea de minería de texto se lleva a cabo mediante una serie de actividades o etapas:</p>
<ol style="list-style-type: decimal">
<li><p>La tarea de minería de texto suele comenzar importando una serie de textos dentro de la herramienta con la que vamos a llevar a cabo el análisis.</p></li>
<li><p>Una vez tenemos el texto importado en la herramienta, la siguiente etapa suele consistir en llevar a cabo una serie de tareas de procesamiento previo de ese texto, entre las que se pueden incluir actividades como: eliminación de espacios en blanco, eliminación de stopwords (palabras que no aportan significado al texto como artículos o conjunciones), etc.</p></li>
<li><p>A continuación, a partir del resultado de la etapa de procesamiento previo, se suele construir una estructura de datos que facilite el análisis y procesamiento posterior de los textos. La estructura más habitualmente utilizada es la denominada matriz de términos-documentos (term-document matrix), que veremos más adelante.</p></li>
<li><p>Finalmente, se lleva a cabo la tarea de análisis que nos interese utilizando la estructura de datos previamente construida.</p></li>
</ol>
<p>A continuación veremos cómo llevar a cabo cada una de estas etapas utilizando las funcionalidades ofrecidas por el paquete tm.</p>
<div id="importar-texto" class="section level4" number="4.1.2.1">
<h4><span class="header-section-number">4.1.2.1</span> Importar texto</h4>
<p>La principal estructura de datos que ofrece tm para maneja conjuntos de documentos de texto es la que se conoce como corpus.</p>
<p>Existen distintos mecanismos que podemos utilizar a la hora de crear un corpus, dependiendo de la fuente de datos que queramos utilizar:</p>
<ul>
<li>El mecanismo más sencillo es utilizar un vector de cadenas de caracteres como fuente de datos (VectorSource), donde cada una de las entradas del vector se considerará un documento distinto:</li>
</ul>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="minería-de-texto.html#cb128-1" aria-hidden="true" tabindex="-1"></a>docs<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Un documento&quot;</span>, <span class="st">&quot;Otro documento&quot;</span>) </span>
<span id="cb128-2"><a href="minería-de-texto.html#cb128-2" aria-hidden="true" tabindex="-1"></a>c<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(docs)) </span></code></pre></div>
<ul>
<li>Sin embargo, también es posible utilizar como fuente de datos un directorio en el que existen una serie de ficheros (DirSource). Por ejemplo, si quisiésemos construir un corpus a partir de una colección de documentos de texto (con extensión txt) con codificación UTF-8 ubicada en la carpeta /Users/user1/corpus podríamos ejecutar en la consola de R la expresión:</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="minería-de-texto.html#cb129-1" aria-hidden="true" tabindex="-1"></a>c<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">DirSource</span>(<span class="at">directory =</span> <span class="st">&quot;/Users/user1/corpus&quot;</span>,</span>
<span id="cb129-2"><a href="minería-de-texto.html#cb129-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">encoding=</span><span class="st">&quot;UTF-8&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot;*.txt&quot;</span>)) </span></code></pre></div>
<p>Una vez creado un corpus, se pueden utilizar una serie de operadores y funciones que el paquete tm ofrece para manipularlo. Entre las más relevantes figuran:</p>
<ul>
<li><p>El operador [] se puede utilizar para acceder a un subconjunto de los documentos de un corpus.</p></li>
<li><p>El operador <span class="math display">\[\[\]</span>] permite acceder a un documento concreto del corpus.</p></li>
<li><p>La función c se puede utilizar para concatenar corpus.</p></li>
<li><p>La función length devuelve la longitud (número de documentos) del corpus.</p></li>
<li><p>La función content se puede utilizar para obtener el contenido de un documento del corpus.</p></li>
</ul>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="minería-de-texto.html#cb130-1" aria-hidden="true" tabindex="-1"></a>corpus1<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(<span class="fu">c</span>(<span class="st">&quot;Un documento&quot;</span>))) </span>
<span id="cb130-2"><a href="minería-de-texto.html#cb130-2" aria-hidden="true" tabindex="-1"></a>corpus2<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(<span class="fu">c</span>(<span class="st">&quot;Otro documento&quot;</span>))) </span>
<span id="cb130-3"><a href="minería-de-texto.html#cb130-3" aria-hidden="true" tabindex="-1"></a>unidos<span class="ot">&lt;-</span><span class="fu">c</span>(corpus1, corpus2) </span>
<span id="cb130-4"><a href="minería-de-texto.html#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(unidos) </span>
<span id="cb130-5"><a href="minería-de-texto.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] 2 </span></span>
<span id="cb130-6"><a href="minería-de-texto.html#cb130-6" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(unidos[[<span class="dv">2</span>]]) </span>
<span id="cb130-7"><a href="minería-de-texto.html#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;Otro documento&quot; </span></span></code></pre></div>
</div>
<div id="procesamiento-previo" class="section level4" number="4.1.2.2">
<h4><span class="header-section-number">4.1.2.2</span> Procesamiento previo</h4>
<p>Para llevar a cabo la etapa de procesamiento previo utilizaremos la función tm_map que nos va a permitir llevar a cabo transformaciones en los datos de un corpus. Básicamente, la función tm_map recibe los siguientes parámetros:</p>
<ul>
<li><p>El corpus sobre el que vamos a operar.</p></li>
<li><p>Una función que queremos que se ejecute sobre el corpus. Esta función recibirá como entrada y devolverá como salida un documento de los incluidos en el corpus.</p></li>
<li><p>Otros parámetros que pueda necesitar la función que queremos ejecutar.</p></li>
</ul>
<p>Veremos a continuación algunas de las transformaciones que se suelen llevar a cabo en la etapa de procesamiento previo utilizando el siguiente corpus como ejemplo:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="minería-de-texto.html#cb131-1" aria-hidden="true" tabindex="-1"></a>text<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;En un lugar de la Mancha de cuyo nombre no quiero acordarme…&quot;</span>, </span>
<span id="cb131-2"><a href="minería-de-texto.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Miguel de Cervantes Saavedra (1547-1616)&quot;</span>) </span>
<span id="cb131-3"><a href="minería-de-texto.html#cb131-3" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(text)) </span></code></pre></div>
<p>1. Normalizar el texto, convirtiendo todos los caracteres a minúsculas</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="minería-de-texto.html#cb132-1" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, <span class="fu">content_transformer</span>(tolower)) </span>
<span id="cb132-2"><a href="minería-de-texto.html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(corpus[[<span class="dv">2</span>]]) </span>
<span id="cb132-3"><a href="minería-de-texto.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;miguel de cervantes saavedra (1547-1616)&quot;</span></span></code></pre></div>
<p>2. Eliminar signos de puntuación</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="minería-de-texto.html#cb133-1" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">tm_map</span>(corpus, removePunctuation) </span>
<span id="cb133-2"><a href="minería-de-texto.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(corpus[[<span class="dv">2</span>]]) </span>
<span id="cb133-3"><a href="minería-de-texto.html#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;miguel de cervantes saavedra 15471616&quot;</span></span></code></pre></div>
<p>3. Eliminar menciones a números</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="minería-de-texto.html#cb134-1" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">tm_map</span>(corpus, removeNumbers) </span>
<span id="cb134-2"><a href="minería-de-texto.html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(corpus[[<span class="dv">2</span>]]) </span>
<span id="cb134-3"><a href="minería-de-texto.html#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;miguel de cervantes saavedra &quot; </span></span></code></pre></div>
<p>4. Eliminar stopwords</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="minería-de-texto.html#cb135-1" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">tm_map</span>(corpus, removeWords, <span class="fu">stopwords</span>(<span class="st">&quot;spanish&quot;</span>)) </span>
<span id="cb135-2"><a href="minería-de-texto.html#cb135-2" aria-hidden="true" tabindex="-1"></a>corpus[[<span class="dv">2</span>]] </span>
<span id="cb135-3"><a href="minería-de-texto.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] &quot;miguel  cervantes saavedra &quot; </span></span></code></pre></div>
<p>Nótese que en este caso hemos utilizado un tercer argumento, para indicarle a la función removeWords la lista de palabras que debe eliminar (en este caso, las stopwords del español, aunque podríamos proporcionar también una lista propia).</p>
<p>5. Lematizar (stemming) los términos (encontrar su raíz)</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="minería-de-texto.html#cb136-1" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">tm_map</span>(corpus, stemDocument, <span class="st">&quot;spanish&quot;</span>) </span>
<span id="cb136-2"><a href="minería-de-texto.html#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(corpus[[<span class="dv">1</span>]]) </span>
<span id="cb136-3"><a href="minería-de-texto.html#cb136-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] {r eval<span class="ot">=</span><span class="cn">FALSE</span>}<span class="st">&quot;  lug   manch  cuy nombr  quier acord&quot;</span></span></code></pre></div>
<p>La matriz de términos-documentos. Como su propio nombre indica, básicamente esta estructura consiste en una matriz cuyas filas representan diferentes términos y cuyas columnas representan documentos que mencionan esos términos.</p>
<p>El valor numérico de las celdas de la matriz se puede calcular de distintas formas. Por ejemplo, puede consistir simplemente en la frecuencia del término en el documento (cuenta del número de veces que el término aparece en el documento), en la frecuencia normalizada (esto es, el número de veces que el término aparece en el documento dividido entre el número total de términos del documento), etc</p>
<p>En tm podemos construir una matriz de términos-documentos directamente a partir de un corpus de documentos:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="minería-de-texto.html#cb137-1" aria-hidden="true" tabindex="-1"></a>docs<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;primer documento al principio&quot;</span>, <span class="st">&quot;segundo documento tras el </span></span>
<span id="cb137-2"><a href="minería-de-texto.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="st">primer  documento&quot;</span>,  <span class="st">&quot;tercer  documento  tras  el  segundo  documento&quot;</span>, </span>
<span id="cb137-3"><a href="minería-de-texto.html#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;cuarto documento&quot;</span>) </span>
<span id="cb137-4"><a href="minería-de-texto.html#cb137-4" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(docs)) </span>
<span id="cb137-5"><a href="minería-de-texto.html#cb137-5" aria-hidden="true" tabindex="-1"></a>tdm<span class="ot">&lt;-</span><span class="fu">TermDocumentMatrix</span>(corpus) </span></code></pre></div>
<p>Podemos visualizar la matriz utilizando la función inspect:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="minería-de-texto.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(tdm) </span>
<span id="cb138-2"><a href="minería-de-texto.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;&lt;TermDocumentMatrix (terms: 7, documents: 4)&gt;&gt; </span></span>
<span id="cb138-3"><a href="minería-de-texto.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Non-/sparse entries: 13/15 </span></span>
<span id="cb138-4"><a href="minería-de-texto.html#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sparsity           : 54% </span></span>
<span id="cb138-5"><a href="minería-de-texto.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Maximal term length: 9 </span></span>
<span id="cb138-6"><a href="minería-de-texto.html#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Weighting          : term frequency (tf) </span></span>
<span id="cb138-7"><a href="minería-de-texto.html#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb138-8"><a href="minería-de-texto.html#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co">#            Docs </span></span>
<span id="cb138-9"><a href="minería-de-texto.html#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Terms       1 2 3 4 </span></span>
<span id="cb138-10"><a href="minería-de-texto.html#cb138-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   cuarto    0 0 0 1 </span></span>
<span id="cb138-11"><a href="minería-de-texto.html#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   documento 1 2 2 1 </span></span>
<span id="cb138-12"><a href="minería-de-texto.html#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   primer    1 1 0 0 </span></span>
<span id="cb138-13"><a href="minería-de-texto.html#cb138-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   principio 1 0 0 0 </span></span>
<span id="cb138-14"><a href="minería-de-texto.html#cb138-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   segundo   0 1 1 0 </span></span>
<span id="cb138-15"><a href="minería-de-texto.html#cb138-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   tercer    0 0 1 0 </span></span>
<span id="cb138-16"><a href="minería-de-texto.html#cb138-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   tras      0 1 1 0 </span></span></code></pre></div>
<p>Donde se puede ver que los valores numéricos de las celdas en este ejemplo consisten simplemente en la cuenta de menciones (frecuencia, term frequency) de cada término (Terms) en cada documento (Docs).</p>
<p>Este comportamiento se puede cambiar a la hora de construir la matriz por medio del parámetro control y la propiedad weighting. Los valores más habitualmente empleados con esta propiedad son:</p>
<ul>
<li><p><strong>weightBin</strong>: el valor es un 0 o un 1 dependiendo de si el término está o no en el documento.</p></li>
<li><p><strong>weitghTf</strong>: el valor de cada celda de la matriz es la frecuencia del término en el documento. Esta es la configuración por defecto, mostrada en el ejemplo anterior.</p></li>
<li><p><strong>weightTfIdf</strong>: el valor de cada celda se calcula como el producto de la frecuencia de término normalizada por la frecuencia inversa de documento inverse document frequency (IDF). El IDF se calcula como el logaritmo del cociente que resulta de dividir el número total de documentos del corpus entre el número de documentos que mencionan al término.</p></li>
</ul>
<p>Un ejemplo de uso de estos valores se muestra a continuación:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="minería-de-texto.html#cb139-1" aria-hidden="true" tabindex="-1"></a>tdmTfIdf<span class="ot">&lt;-</span><span class="fu">TermDocumentMatrix</span>(corpus, <span class="at">control=</span><span class="fu">list</span>(<span class="at">weighting=</span>weightTfIdf)) </span>
<span id="cb139-2"><a href="minería-de-texto.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(tdmTfIdf) </span>
<span id="cb139-3"><a href="minería-de-texto.html#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;&lt;TermDocumentMatrix (terms: 7, documents: 4)&gt;&gt; </span></span>
<span id="cb139-4"><a href="minería-de-texto.html#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Non-/sparse entries: 9/19 </span></span>
<span id="cb139-5"><a href="minería-de-texto.html#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sparsity           : 68% </span></span>
<span id="cb139-6"><a href="minería-de-texto.html#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Maximal term length: 9 </span></span>
<span id="cb139-7"><a href="minería-de-texto.html#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Weighting                    :  term  frequency  -  inverse  document  frequency </span></span>
<span id="cb139-8"><a href="minería-de-texto.html#cb139-8" aria-hidden="true" tabindex="-1"></a><span class="co"># (normalized) (tf-idf) </span></span>
<span id="cb139-9"><a href="minería-de-texto.html#cb139-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb139-10"><a href="minería-de-texto.html#cb139-10" aria-hidden="true" tabindex="-1"></a><span class="co">#            Docs </span></span>
<span id="cb139-11"><a href="minería-de-texto.html#cb139-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Terms               1   2   3 4 </span></span>
<span id="cb139-12"><a href="minería-de-texto.html#cb139-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   cuarto    0.0000000 0.0 0.0 1 </span></span>
<span id="cb139-13"><a href="minería-de-texto.html#cb139-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   documento 0.0000000 0.0 0.0 0 </span></span>
<span id="cb139-14"><a href="minería-de-texto.html#cb139-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   primer    0.3333333 0.2 0.0 0 </span></span>
<span id="cb139-15"><a href="minería-de-texto.html#cb139-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   principio 0.6666667 0.0 0.0 0 </span></span>
<span id="cb139-16"><a href="minería-de-texto.html#cb139-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   segundo   0.0000000 0.2 0.2 0 </span></span>
<span id="cb139-17"><a href="minería-de-texto.html#cb139-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   tercer    0.0000000 0.0 0.4 0 </span></span>
<span id="cb139-18"><a href="minería-de-texto.html#cb139-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   tras      0.0000000 0.2 0.2 0 </span></span></code></pre></div>
<blockquote>
<p>Se puede observar en las matrices mostradas en los ejemplos anteriores que, a pesar de no haber eliminado explícitamente las stopwords del corpus, algunas de las palabras que aparecen en los documentos (por ejemplo, el y la) no se incluyen en la matriz de términos-documentos. Esto se debe a que, por defecto, al construir la matriz se eliminan los términos de menos de tres caracteres.</p>
</blockquote>
<ul>
<li><strong>Tareas de análisis</strong>. En este apartado trabajaremos con un pequeño conjunto de documentos que contienen noticias en inglés de la agencia Reuters. Estos documentos se distribuyen ya con el paquete tm y se pueden cargar en el entorno de R haciendo:</li>
</ul>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="minería-de-texto.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(acq) </span>
<span id="cb140-2"><a href="minería-de-texto.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(crude) </span>
<span id="cb140-3"><a href="minería-de-texto.html#cb140-3" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">c</span>(acq,crude)</span></code></pre></div>
<p>Una vez importados los documentos, podemos aplicar algunas de las técnicas de procesamiento previo vistas con anterioridad, para preparar los datos para su análisis:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="minería-de-texto.html#cb141-1" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, <span class="fu">content_transformer</span>(tolower)) </span>
<span id="cb141-2"><a href="minería-de-texto.html#cb141-2" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removeWords, <span class="fu">stopwords</span>(<span class="st">&quot;english&quot;</span>)) </span>
<span id="cb141-3"><a href="minería-de-texto.html#cb141-3" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removePunctuation) </span>
<span id="cb141-4"><a href="minería-de-texto.html#cb141-4" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removeNumbers) </span></code></pre></div>
<p>A continuación veremos cómo llevar a cabo algunas operaciones típicas de minería de texto utilizando R, el paquete tm y este corpus.</p>
</div>
</div>
<div id="encontrar-términos-frecuentes" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Encontrar términos frecuentes</h3>
<p>En muchas ocasiones nos interesará poder encontrar rápidamente aquellos términos que consideramos más relevantes en un corpus o en un documento, que usualmente son aquellos que aparecen mencionados con mayor frecuencia (siempre que se hayan eliminado previamente las stopwords).</p>
<p>Para ello podemos utilizar la función findFreqTerms. Por ejemplo, los términos que hayan aparecido al menos 25 veces en el corpus se obtendrían ejecutando:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="minería-de-texto.html#cb142-1" aria-hidden="true" tabindex="-1"></a>tdm<span class="ot">&lt;-</span><span class="fu">TermDocumentMatrix</span>(corpus) </span>
<span id="cb142-2"><a href="minería-de-texto.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">findFreqTerms</span>(tdm, <span class="dv">25</span>) </span></code></pre></div>
<p>También podemos obtener una lista con las k palabras más frecuentes a partir de la matriz de términos-documentos haciendo (por ejemplo, para k=10):</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="minería-de-texto.html#cb143-1" aria-hidden="true" tabindex="-1"></a>tf<span class="ot">&lt;-</span><span class="fu">rowSums</span>(<span class="fu">as.matrix</span>(tdm)) </span>
<span id="cb143-2"><a href="minería-de-texto.html#cb143-2" aria-hidden="true" tabindex="-1"></a>tfordered<span class="ot">&lt;-</span><span class="fu">sort</span>(tf, <span class="at">decreasing=</span><span class="cn">TRUE</span>) </span>
<span id="cb143-3"><a href="minería-de-texto.html#cb143-3" aria-hidden="true" tabindex="-1"></a>top10<span class="ot">&lt;-</span>tfordered[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] </span></code></pre></div>
<p>Donde primero calculamos la frecuencia agregada de cada término en todos los documentos del corpus (con rowSums), después ordenamos el resultado en orden descendente (con sort) y finalmente seleccionamos los primeros 10 elementos.</p>
<p>Podemos representar gráficamente el resultado mediante una nube de etiquetas, que se construyen en R por medio de la función wordcloud del paquete del mismo nombre:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="minería-de-texto.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;wordcloud&quot;</span>, <span class="at">dependencies=</span><span class="cn">TRUE</span>) </span>
<span id="cb144-2"><a href="minería-de-texto.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud) </span>
<span id="cb144-3"><a href="minería-de-texto.html#cb144-3" aria-hidden="true" tabindex="-1"></a>colors<span class="ot">&lt;-</span><span class="fu">gray</span>((top10<span class="sc">+</span><span class="dv">1</span>)<span class="sc">/</span>(<span class="fu">max</span>(top10)<span class="sc">+</span><span class="dv">1</span>)) </span>
<span id="cb144-4"><a href="minería-de-texto.html#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(<span class="fu">names</span>(top10), top10, <span class="at">colors=</span>colors) </span></code></pre></div>
<p>El resultado obtenido se puede ver en la Figura 1.</p>
<p><img src="img/fig10.jpg" /></p>
<p>Figura 1. Nube de etiquetas.</p>
<div id="buscar-términos-relacionados-con-otros" class="section level4" number="4.1.3.1">
<h4><span class="header-section-number">4.1.3.1</span> Buscar términos relacionados con otros</h4>
<p>En ocasiones nos interesará también poder obtener una lista de palabras que guardan relación con una dada. Para ello, el paquete tm ofrece la función findAssocs, que encuentra términos que se mencionan frecuentemente en compañía del término buscado (y tienen, pues, una alta correlación). Esta función toma tres argumentos:</p>
<ul>
<li><p>La matriz de términos-documentos con la que operar.</p></li>
<li><p>El término del que queremos encontrar relacionados.</p></li>
<li><p>Un valor numérico que sirve de umbral mínimo de correlación (los términos con correlación menor que esta, no se mostrarán).</p></li>
</ul>
<p>Veamos un ejemplo de uso, en el que se pueden ver las palabras del corpus que tienen una correlación de al menos 0.65 con share.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="minería-de-texto.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">findAssocs</span>(tdm, <span class="st">&quot;share&quot;</span>, <span class="fl">0.65</span>) </span>
<span id="cb145-2"><a href="minería-de-texto.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="co"># $share </span></span>
<span id="cb145-3"><a href="minería-de-texto.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  offer   cash merger  later offers   dlrs  </span></span>
<span id="cb145-4"><a href="minería-de-texto.html#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   0.74   0.70   0.68   0.66   0.66   0.65 </span></span></code></pre></div>
</div>
</div>
<div id="clasificación-1" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Clasificación</h3>
<p>Otra tarea de minería de texto que se suele realizar con cierta frecuencia es la de intentar clasificar los documentos de un corpus en una serie de categorías predefinidas.</p>
<p>Existen distintas técnicas que se pueden emplear para clasificar documentos. En nuestro caso utilizaremos una de las técnicas de clasificación más sencillas que se denomina KNN (K Nearest Neighbors). En concreto, la implementación de KNN que utilizaremos se proporciona en la librería class de R, que será necesario instalar y cargar en el entorno:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="minería-de-texto.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;class&quot;</span>, <span class="at">dependencies=</span><span class="cn">TRUE</span>) </span>
<span id="cb146-2"><a href="minería-de-texto.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(class) </span></code></pre></div>
<p>KNN es un algoritmo de clasificación supervisado, que necesita por tanto ser entrenado por medio de una serie de ejemplos para poder a continuación etiquetar apropiadamente nuevos documentos. Teniendo esto en cuenta, dividiremos nuestro corpus de ejemplo de Reuters en dos partes, una de entrenamiento y otra de evaluación, cada una de ellas conteniendo la mitad de los documentos de cada una de las dos categorías existentes:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="minería-de-texto.html#cb147-1" aria-hidden="true" tabindex="-1"></a>train<span class="ot">&lt;-</span><span class="fu">c</span>(acq[<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>],crude[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]) </span>
<span id="cb147-2"><a href="minería-de-texto.html#cb147-2" aria-hidden="true" tabindex="-1"></a>trainClass<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;acq&quot;</span>,<span class="dv">25</span>), <span class="fu">rep</span>(<span class="st">&quot;crude&quot;</span>,<span class="dv">10</span>)) </span>
<span id="cb147-3"><a href="minería-de-texto.html#cb147-3" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span><span class="fu">c</span>(acq[<span class="dv">26</span><span class="sc">:</span><span class="dv">50</span>],crude[<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>]) </span>
<span id="cb147-4"><a href="minería-de-texto.html#cb147-4" aria-hidden="true" tabindex="-1"></a>testClass<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;acq&quot;</span>,<span class="dv">25</span>), <span class="fu">rep</span>(<span class="st">&quot;crude&quot;</span>,<span class="dv">10</span>)) </span>
<span id="cb147-5"><a href="minería-de-texto.html#cb147-5" aria-hidden="true" tabindex="-1"></a>corpus<span class="ot">&lt;-</span><span class="fu">c</span>(train,test) </span></code></pre></div>
<p>Así pues, lo primeros 35 documentos del corpus serán los de entrenamiento (train) y los siguientes 35 los de evaluación (test). Nótese que hemos creado también vectores con la clase correcta en cada caso (trainClass, testClass) que utilizaremos con posterioridad.</p>
<p>A continuación, haremos el procesamiento previo del corpus y construiremos la matriz de términos-documentos de tm, de la manera habitual:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="minería-de-texto.html#cb148-1" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, <span class="fu">content_transformer</span>(tolower)) </span>
<span id="cb148-2"><a href="minería-de-texto.html#cb148-2" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removeWords, <span class="fu">stopwords</span>(<span class="st">&quot;english&quot;</span>)) </span>
<span id="cb148-3"><a href="minería-de-texto.html#cb148-3" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removePunctuation) </span>
<span id="cb148-4"><a href="minería-de-texto.html#cb148-4" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, removeNumbers) </span>
<span id="cb148-5"><a href="minería-de-texto.html#cb148-5" aria-hidden="true" tabindex="-1"></a>corpus <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(corpus, stemDocument) </span>
<span id="cb148-6"><a href="minería-de-texto.html#cb148-6" aria-hidden="true" tabindex="-1"></a>tdm<span class="ot">&lt;-</span><span class="fu">TermDocumentMatrix</span>(corpus) </span></code></pre></div>
<p>Transpondremos (con la función t) la matriz de términos-documentos para que la información relevante en este caso (los documentos) se represente en las filas, la convertiremos al tipo matriz de R (con as.matrix) y la normalizaremos, dividiendo cada una de las filas entre su norma euclídea:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="minería-de-texto.html#cb149-1" aria-hidden="true" tabindex="-1"></a>dtm<span class="ot">&lt;-</span><span class="fu">t</span>(tdm) </span>
<span id="cb149-2"><a href="minería-de-texto.html#cb149-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dtm) </span>
<span id="cb149-3"><a href="minería-de-texto.html#cb149-3" aria-hidden="true" tabindex="-1"></a>norm_eucl <span class="ot">&lt;-</span> <span class="cf">function</span>(m)  m<span class="sc">/</span><span class="fu">apply</span>(m, <span class="at">MARGIN=</span><span class="dv">1</span>, <span class="at">FUN=</span><span class="cf">function</span>(x)</span>
<span id="cb149-4"><a href="minería-de-texto.html#cb149-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">^</span>.<span class="dv">5</span>) </span>
<span id="cb149-5"><a href="minería-de-texto.html#cb149-5" aria-hidden="true" tabindex="-1"></a>m_norm <span class="ot">&lt;-</span> <span class="fu">norm_eucl</span>(m) </span></code></pre></div>
<p>A continuación, extraeremos dos submatrices, para entrenamiento y evaluación:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="minería-de-texto.html#cb150-1" aria-hidden="true" tabindex="-1"></a>trainm<span class="ot">&lt;-</span>m_norm[<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>,]</span>
<span id="cb150-2"><a href="minería-de-texto.html#cb150-2" aria-hidden="true" tabindex="-1"></a>testm<span class="ot">&lt;-</span>m_norm[<span class="dv">36</span><span class="sc">:</span><span class="dv">70</span>,]</span></code></pre></div>
<p>Provistos con esta entrada, estamos en condiciones de utilizar el clasificador KNN al que pasaremos tres argumentos:</p>
<ul>
<li><p>La matriz con los datos de entrenamiento.</p></li>
<li><p>La matriz con los datos de evaluación.</p></li>
<li><p>El vector que contiene las categorías correctas de los datos de entrenamiento.</p></li>
</ul>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="minería-de-texto.html#cb151-1" aria-hidden="true" tabindex="-1"></a>output<span class="ot">&lt;-</span><span class="fu">knn</span>(trainm,testm,trainClass) </span></code></pre></div>
<p>El resultado almacenado en output contiene las clases estimadas por el clasificador KNN para el conjunto de evaluación. Podemos comparar este resultado con el valor esperado (vector testClass) para medir la calidad de nuestro clasificador. Para ello utilizaremos la función table para obtener la matriz de confusión del clasificador y, a partir de ella, calcularemos la tasa de aciertos del mismo:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="minería-de-texto.html#cb152-1" aria-hidden="true" tabindex="-1"></a>tabla<span class="ot">&lt;-</span><span class="fu">table</span>(<span class="st">&quot;KNN&quot;</span><span class="ot">=</span>output,<span class="st">&quot;Correcta&quot;</span><span class="ot">=</span>testClass) </span>
<span id="cb152-2"><a href="minería-de-texto.html#cb152-2" aria-hidden="true" tabindex="-1"></a>tabla </span>
<span id="cb152-3"><a href="minería-de-texto.html#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="co">#        Correcta </span></span>
<span id="cb152-4"><a href="minería-de-texto.html#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="co"># KNN     acq crude </span></span>
<span id="cb152-5"><a href="minería-de-texto.html#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   acq    25     1 </span></span>
<span id="cb152-6"><a href="minería-de-texto.html#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   crude   0     9 </span></span>
<span id="cb152-7"><a href="minería-de-texto.html#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb152-8"><a href="minería-de-texto.html#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">diag</span>(tabla))<span class="sc">/</span><span class="fu">sum</span>(tabla) </span>
<span id="cb152-9"><a href="minería-de-texto.html#cb152-9" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] 0.9714286 </span></span></code></pre></div>
<p>Donde, como podemos ver, nuestro clasificador ha acertado en aproximadamente el 97 % de los casos.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="análisis-de-datos-con-r-ii.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="análisis-de-grafos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["github", "linkedin", "weibo", "instapaper", "vk", "whatsapp"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/rubend18/manual-de-r/edit/master/04-analisis2.Rmd",
"text": "Edit "
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/rubend18/manual-de-r/blob/master/04-analisis2.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
